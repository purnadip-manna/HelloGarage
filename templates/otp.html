{% extends 'base.html' %}
{% block title %}OTP{% endblock title %}

{% block body %}
<div class="container mt-5">
    <h1 align="center">Hello Garage</h1>
    <div class="d-flex flex-column justify-content-between" style="box-shadow: 5px 20px 20px 4px rgb(0 0 0 / 51%);
    border-radius: 10px; padding:20px"
    >
    <div class="form-group">
        <label>Enter your OTP:</label>
        <input type="number" class="form-control" id="otp" maxlength="4">
    </div>
    <button class="btn btn-success" onclick="valOtp()">Submit</button>
</div>
<br>
<br>
    <span id="response"></span>
</div>
<script>
    function valOtp() {
        let url = "{% url 'votp' %}";
        let carno = "{{carno}}";
        let phnno = "{{phnno}}";
        let flag = "{{exit}}";
        let otp = document.getElementById("otp").value;
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function() {
          document.getElementById("response").innerHTML = this.responseText;
          }
        xhttp.open("GET", url+"?otp="+otp+"&phnno="+phnno+"&carno="+carno+"&flag="+flag, true);
        xhttp.send();
      }

</script>
{% endblock body %}